<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Getting Started - Ferma</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Ferma">
    <meta property="og:image" content="None/../images/ferma-logo.svg">
    <meta name="apple-mobile-web-app-title" content="Ferma">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../images/ferma-logo.svg">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-blue palette-accent-deep-orange">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Getting Started
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/Syncleus" title="@Syncleus on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/Syncleus/Ferma" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../images/ferma-logo.svg">
        </div>
      
      <div class="name">
        <strong>
          Ferma
          <span class="version">
            3.0.1
          </span>
        </strong>
        
          <br>
          Syncleus/Ferma
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/Syncleus/Ferma/archive/3.0.1.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/Syncleus/Ferma/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Getting Started" href="./">
      Getting Started
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Dependency" href="#dependency">
                Dependency
              </a>
            </li>
          
            <li class="anchor">
              <a title="Untyped Mode Example" href="#untyped-mode-example">
                Untyped Mode Example
              </a>
            </li>
          
            <li class="anchor">
              <a title="Simple Mode Example" href="#simple-mode-example">
                Simple Mode Example
              </a>
            </li>
          
            <li class="anchor">
              <a title="Annotated Mode Example" href="#annotated-mode-example">
                Annotated Mode Example
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Comparing the Alternatives" href="../comparing_the_alternatives/">
      Comparing the Alternatives
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Glossary" href="../glossary/">
      Glossary
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Core Annotations</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../annotations/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="@Propery" href="../annotations/property/">
      @Propery
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="@adjacency" href="../annotations/adjacency/">
      @adjacency
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/Syncleus" target="_blank" title="@Syncleus on GitHub">
                  @Syncleus on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Getting Started</h1>
          
          <p>Ferma provides three levels of type resolution: untyped, simple, and annotated. In untyped mode Ferma doesn't handle typing at all, instead the type must be explicitly indicated whenever querying. In simple mode Ferma provides type context encoded as graph element properties which ensures the same type comes out that goes in to a graph. In annotated mode all the features of simple mode are provided as well as enabling the use of annotations on abstract methods to instruct Ferma to dynamically construct byte code to implement the abstract methods at start up.</p>
<h2 id="dependency">Dependency<a class="headerlink" href="#dependency" title="Permanent link">#</a></h2>
<p>To include Ferma in your project of choice include the following Maven dependency into your build.</p>
<pre class="code"><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.syncleus.ferma&lt;/groupId&gt;
    &lt;artifactId&gt;ferma&lt;/artifactId&gt;
    &lt;version&gt;3.0.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>


<h2 id="untyped-mode-example">Untyped Mode Example<a class="headerlink" href="#untyped-mode-example" title="Permanent link">#</a></h2>
<p>In untyped mode there is no automatic typing. Whatever class is explicitly indicated is the type that will be instantiated when performing queries. Lets start with a simple example domain.</p>
<pre class="code"><code class="language-java">public class Person extends VertexFrame {
  public String getName() {
    return getProperty(&quot;name&quot;);
  }

  public void setName(String name) {
    setProperty(&quot;name&quot;, name);
  }

  public List&lt;? extends Knows&gt; getKnowsList() {
    return traverse((v) -&gt; v.outE(&quot;knows&quot;)).toList(Knows.class);
  }

  public Knows addKnows(Person friend) {
    return addEdge(&quot;knows&quot;, friend, Knows.class);
  }
}

public class Knows extends EdgeFrame {
  public void setYears(int years) {
    setProperty(&quot;years&quot;, years);
  }

  public int getYears() {
    return getProperty(&quot;years&quot;);
  }
}</code></pre>


<p>And here is how you interact with the framed elements:</p>
<pre class="code"><code class="language-java">public void testUntyped() {
  Graph g = new TinkerGraph();

  // implies untyped mode
  FramedGraph fg = new DelegatingFramedGraph(g);

  Person p1 = fg.addFramedVertex(Person.class);
  p1.setName(&quot;Jeff&quot;);

  Person p2 = fg.addFramedVertex(Person.class);
  p2.setName(&quot;Julia&quot;);
  Knows knows = p1.addKnows(p2);
  knows.setYears(15);

  Person jeff = fg.traverse((g) -&gt; g.v().has(&quot;name&quot;, &quot;Jeff&quot;)).next(Person.class);


  Assert.assertEquals(&quot;Jeff&quot;, jeff.getName());
}</code></pre>


<h2 id="simple-mode-example">Simple Mode Example<a class="headerlink" href="#simple-mode-example" title="Permanent link">#</a></h2>
<p>In simple mode you must provide concrete classes, no abstract or interfaces allowed, and the class should always extend from a FramedVertex or FramedEdge. Simple mode doesn't provide any annotations either. The purpose of simple mode is to provide type resolution. Basically the type of object you use when adding to the graph is the same type you get out when reading from the graph.</p>
<p>Say we extend the Person class with the Programmer class.</p>
<pre class="code"><code class="language-java">public class Programmer extends Person {
}</code></pre>


<p>Using simple mode will save the type of Java class the element was created with for use later:</p>
<pre class="code"><code class="language-java">public void testSimpleTyping() {
  Graph g = new TinkerGraph();

  // implies simple mode
  FramedGraph fg = new DelegatingFramedGraph(g, true, false);

  Person p1 = fg.addFramedVertex(Programmer.class);
  p1.setName(&quot;Jeff&quot;);

  Person p2 = fg.addFramedVertex(Person.class);
  p2.setName(&quot;Julia&quot;);

  Person jeff = fg.traverse((g) -&gt; g.v().has(&quot;name&quot;, &quot;Jeff&quot;)).next(Person.class);
  Person julia = fg.traverse((g) -&gt; g.v().has(&quot;name&quot;, &quot;Julia&quot;)).next(Person.class);

  Assert.assertEquals(Programmer.class, jeff.getClass());
  Assert.assertEquals(Person.class, julia.getClass());
}</code></pre>


<h2 id="annotated-mode-example">Annotated Mode Example<a class="headerlink" href="#annotated-mode-example" title="Permanent link">#</a></h2>
<p>In annotated mode you can either provide concrete classes, abstract classes, or even interfaces. Abstract classes and concrete classes must extend from FramedVertex or FramedEdge, however, interfaces do not have this restriction. Annotated mode also provides a set of annotations which must be used to define any abstract methods that are to be implemented by the engine. Annotated mode provides the same type resolution as provided by simple mode with a bit more power to determine parent-child relationships at run time.</p>
<p>The same example as above done with annotations would look something like this.</p>
<pre class="code"><code class="language-java">public abstract class Person extends VertexFrame {
  @Property(&quot;name&quot;)
  public abstract String getName();

  @Property(&quot;name&quot;)
  public abstract void setName(String name);

  @Adjacency(&quot;knows&quot;)
  public abstract Iterator&lt;Person&gt;; getKnowsPeople();

  @Incidence(&quot;knows&quot;)
  public abstract Iterator&lt;Knows&gt; getKnows();

  @Incidence(&quot;knows&quot;)
  public abstract Knows addKnows(Person friend);

  public List&lt;Person&gt; getFriendsNamedBill() {
    return traverse((v) -&gt; v.out(&quot;knows&quot;).has(&quot;name&quot;, &quot;bill&quot;).toList(Person.class);
  }
}

public abstract class Knows extends EdgeFrame {
  @Property(&quot;years&quot;)
  public abstract void setYears(int years);

  @Property(&quot;years&quot;)
  public abstract int getYears();

  @InVertex
  public abstract Person getIn();

  @OutVertex
  public abstract Person getIn();
}

public abstract class Programmer extends Person {
}</code></pre>


<p>If we pass a collection of Class objects to the FramedGraph constructor then the annotated type resolver will be used. In this mode you want to tell the engine what classes you will be using so it can handle type resolution properly and construct the byte code for any abstract annotated methods.</p>
<pre class="code"><code class="language-java">public void testAnnotatedTyping() {
  Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{
                                                                    Person.class,
                                                                    Programmer.class,
                                                                    Knows.class}));
  Graph g = new TinkerGraph();

  //implies annotated mode
  FramedGraph fg = new DelegatingFramedGraph(g, true, types);

  Person p1 = fg.addFramedVertex(Programmer.class);
  p1.setName(&quot;Jeff&quot;);

  Person p2 = fg.addFramedVertex(Person.class);
  p2.setName(&quot;Julia&quot;);

  Person jeff = fg.traverse((g) -&gt; g.v().has(&quot;name&quot;, &quot;Jeff&quot;)).next(Person.class);
  Person julia = fg.traverse((g) -&gt; g.v().has(&quot;name&quot;, &quot;Julia&quot;)).next(Person.class);

  Assert.assertEquals(Programmer.class, jeff.getClass());
  Assert.assertEquals(Person.class, julia.getClass());
}</code></pre>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href=".." title="Home">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Home
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../comparing_the_alternatives/" title="Comparing the Alternatives">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Comparing the Alternatives
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'Syncleus/Ferma';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>