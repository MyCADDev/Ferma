<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Comparing the Alternatives - Ferma</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Ferma">
    <meta property="og:image" content="None/../images/ferma-logo.svg">
    <meta name="apple-mobile-web-app-title" content="Ferma">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../images/ferma-logo.svg">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-blue palette-accent-deep-orange">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Comparing the Alternatives
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/Syncleus" title="@Syncleus on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/Syncleus/Ferma" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../images/ferma-logo.svg">
        </div>
      
      <div class="name">
        <strong>
          Ferma
          <span class="version">
            3.0.1
          </span>
        </strong>
        
          <br>
          Syncleus/Ferma
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/Syncleus/Ferma/archive/3.0.1.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/Syncleus/Ferma/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Getting Started" href="../getting_started/">
      Getting Started
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Comparing the Alternatives" href="./">
      Comparing the Alternatives
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Benchmarks" href="#benchmarks">
                Benchmarks
              </a>
            </li>
          
            <li class="anchor">
              <a title="Feature Breakdown" href="#feature-breakdown">
                Feature Breakdown
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Glossary" href="../glossary/">
      Glossary
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Core Annotations</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../annotations/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="@Property" href="../annotations/property/">
      @Property
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="@adjacency" href="../annotations/adjacency/">
      @adjacency
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/Syncleus" target="_blank" title="@Syncleus on GitHub">
                  @Syncleus on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Comparing the Alternatives</h1>
          
          <p>There are several OGM/ORM options out there. For the purposes of this document we will focus only on those that have a stable release, or are close to a stable release. At the time of this writing those are: Tinkerpop Framed and Totorom.</p>
<h2 id="benchmarks">Benchmarks<a class="headerlink" href="#benchmarks" title="Permanent link">#</a></h2>
<p>We maintain an informal project for benchmarking Ferma against other OGM available, you can find the <a href="https://github.com/Syncleus/Ferma-benchmark">source here</a>. However below is a matrix breakdown of the results. Instead of showing raw execution time we show the ratio of each OGM compared to Ferma. Therefore if the table lists 1x then it means the framework has the same execution time as Ferma, if it lists 2x then it took twice as long to execute, and if it indicates 0.5x then it took half the time to execute. Obviously any value less than 1x indicates the OGM out performed Ferma and any value greater than 1x indicates Ferma had the superior performance tiimes.</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Blueprints</strong></th>
<th><strong>Gremlin Pipeline</strong></th>
<th><strong>Tinkerpop3</strong></th>
<th><strong>Frames</strong></th>
<th><strong>Totorom</strong></th>
<th><strong>Peapod</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Get adjacencies via annotation</strong></td>
<td>Not capable</td>
<td>Not capable</td>
<td>Not capable</td>
<td>x2.09</td>
<td>Not capable</td>
<td>x2.65</td>
</tr>
<tr>
<td><strong>Get verticies (untyped)</strong></td>
<td>x0.89</td>
<td>x3.94</td>
<td>x16.98</td>
<td>Not capable</td>
<td>x4.24</td>
<td>Not capable</td>
</tr>
<tr>
<td><strong>Get verticies (typed)</strong></td>
<td>x0.92</td>
<td>x3.94</td>
<td>Not capable</td>
<td>x0.96</td>
<td>x4.20</td>
<td>x20.74</td>
</tr>
<tr>
<td><strong>Get verticies and call next (untyped)</strong></td>
<td>x0.79</td>
<td>x3.87</td>
<td>x11.74</td>
<td>Not capable</td>
<td>x4.81</td>
<td>Not capable</td>
</tr>
<tr>
<td><strong>Get verticies and call next (typed)</strong></td>
<td>x0.72</td>
<td>x2.91</td>
<td>Not capable</td>
<td>x1.94</td>
<td>x3.31</td>
<td>x16.70</td>
</tr>
</tbody>
</table>
<p>As can be seen Ferma out performs all the alternative solutions considerably by several orders of magnitude. While results do vary slightly from system to system these results are pretty close to typical. Go ahead, check out the benchmark program and run it for yourself!</p>
<h2 id="feature-breakdown">Feature Breakdown<a class="headerlink" href="#feature-breakdown" title="Permanent link">#</a></h2>
<p>Despite the superior performance of Ferma it also supports all the features provided by the alternatives out there, not to mention several novel features. The following gives a quick breakdown of the features of the various frameworks. We also include a bit later in the document some Ferma examples showing the various features in action. All of the examples below use the domain model <a href="Ferma:Domain_Example">found here</a>.</p>
<table>
<thead>
<tr>
<th></th>
<th><strong>Ferma</strong></th>
<th><strong>Frames</strong></th>
<th><strong>Totorom</strong></th>
<th><strong>Peapod</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><a href="../creating_annotated_domain_models">JPA-like Annotations</a></strong></td>
<td>Supported</td>
<td>Supported</td>
<td>Not Supported</td>
<td>Supported</td>
</tr>
<tr>
<td><strong><a href="#type-information-encoded-into-graph">Type information encoded into graph</a></strong></td>
<td>Supported</td>
<td>Supported</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr>
<td><strong><a href="#framing-instantiated-by-type-hierarchy">Framing of elements instantiated according to type hierarchy</a></strong></td>
<td>Supported</td>
<td>Supported</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr>
<td><strong><a href="#element-queried-by-type-hierarchy">Element queried by type hierarchy</a></strong></td>
<td>Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
<td>Partial *</td>
</tr>
<tr>
<td><strong><a href="#turning-off-type-resolution-per-call">Turning off type resolution on a per call basis</a></strong></td>
<td>Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
</tr>
<tr>
<td><strong><a href="#changing-type-encoded-in-the-graph">Changing the encoded graph type already stored in the database</a></strong></td>
<td>Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
</tr>
<tr>
<td><strong><a href="#customizing-how-types-are-encoded">Customizing the way type information is stored in the graph</a></strong></td>
<td>Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
</tr>
<tr>
<td><strong>Tinkerpop 2 support</strong></td>
<td>Supported</td>
<td>Supported</td>
<td>Supported</td>
<td>Not Supported</td>
</tr>
<tr>
<td><strong>Tinkerpop 3 support</strong></td>
<td>Not Supported</td>
<td>Not Supported</td>
<td>Not Supported</td>
<td>Supported</td>
</tr>
</tbody>
</table>
<p>* While Peapod does support querying for all instances of a type, and its subtypes, it does not support a mechanism to query for a specific type while excluding subtypes.</p>
<h3 id="type-information-encoded-into-graph">Type information encoded into graph<a class="headerlink" href="#type-information-encoded-into-graph" title="Permanent link">#</a></h3>
<pre class="code"><code class="language-java">Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{Person.class}));
Graph g = new TinkerGraph();
FramedGraph fg = new DelegatingFramedGraph(g, types);

fg.addFramedVertex(Person.class);
Person person = fg.v().next(Program.class);

String personClassName = Person.class.getName();
String encodedClassName = person.getProperty(PolymorphicTypeResolver.TYPE_RESOLUTION_KEY)
assert(personClassName.equals(encodedClassName));</code></pre>


<h3 id="framing-instantiated-by-type-hierarchy">Framing instantiated by type hierarchy<a class="headerlink" href="#framing-instantiated-by-type-hierarchy" title="Permanent link">#</a></h3>
<pre class="code"><code class="language-java">Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{Person.class,
                                                                         Programmer.class}));
TinkerGraph g = new TinkerGraph();
FramedGraph fg = new DelegatingFramedGraph(g, types);

fg.addFramedVertex(Programmer.class);

//make sure the newly added node is actually a programmer
Person programmer = fg.v().next(Person.class);
assert(programmer instanceof Programmer);</code></pre>


<h3 id="element-queried-by-type-hierarchy">Element queried by type hierarchy<a class="headerlink" href="#element-queried-by-type-hierarchy" title="Permanent link">#</a></h3>
<pre class="code"><code class="language-java">Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{Person.class,
                                                                         Programmer.class}));
TinkerGraph g = new TinkerGraph();
FramedGraph fg = new DelegatingFramedGraph(g, types);

fg.addFramedVertex(Programmer.class);
fg.addFramedVertex(Person.class);

//counts how many people (or subclasses thereof) in the graph.
assert(fg.v().has(Person.class).count() == 2);
//counts how many programmers are in the graph
assert(fg.v().has(Programmer.class).count() == 1);</code></pre>


<h3 id="turning-off-type-resolution-per-call">Turning off type resolution per call<a class="headerlink" href="#turning-off-type-resolution-per-call" title="Permanent link">#</a></h3>
<pre class="code"><code class="language-java">Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{Person.class,
                                                                         Programmer.class}));
TinkerGraph g = new TinkerGraph();
FramedGraph fg = new DelegatingFramedGraph(g, types);

fg.addFramedVertex(Programmer.class);

//With type resolution is active it should be a programmer
assert(fg.v().next(Person.class) instanceof Programmer);
//With type resolution bypassed it is no longer a programmer
assert(!(fg.v().nextExplicit(Person.class) instanceof Programmer));</code></pre>


<h3 id="changing-type-encoded-in-the-graph">Changing type encoded in the graph<a class="headerlink" href="#changing-type-encoded-in-the-graph" title="Permanent link">#</a></h3>
<pre class="code"><code class="language-java">Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{Person.class,
                                                                         Programmer.class}));
TinkerGraph g = new TinkerGraph();
FramedGraph fg = new DelegatingFramedGraph(g, types);

fg.addFramedVertex(Programmer.class);

//make sure the newly added node is actually a programmer
Person programmer = fg.v().next(Person.class);
assert(programmer instanceof Programmer);

//change the type resolution to person
programmer.setTypeResolution(Person.class);

//make sure the newly added node is actually a programmer
Person person = fg.v().next(Person.class);
assert(person instanceof Person);
assert(!(person instanceof Programmer));</code></pre>


<h3 id="customizing-how-types-are-encoded">Customizing how types are encoded<a class="headerlink" href="#customizing-how-types-are-encoded" title="Permanent link">#</a></h3>
<pre class="code"><code class="language-java">Set&lt;Class&lt;?&gt;&gt; types = new HashSet&lt;Class&lt;?&gt;&gt;(Arrays.asList(new Class&lt;?&gt;[]{Person.class}));
final ReflectionCache cache = new ReflectionCache(types);
FrameFactory factory = new AnnotationFrameFactory(cache);
TypeResolver resolver = new PolymorphicTypeResolver(cache, &quot;customTypeKey&quot;);
Graph g = new TinkerGraph();
FramedGraph fg = new DelegatingFramedGraph(g, factory, resolver);

fg.addFramedVertex(Person.class);
Person person = fg.v().next(Program.class);

String personClassName = Person.class.getName();
String encodedClassName = person.getProperty(&quot;customTypeKey&quot;)
assert(personClassName.equals(encodedClassName));</code></pre>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../getting_started/" title="Getting Started">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Getting Started
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../glossary/" title="Glossary">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Glossary
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'Syncleus/Ferma';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>